datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") // Add your Postgres URL in .env
}

generator client {
  provider = "prisma-client-js"
}

model Address {
  id               Int           @id @default(autoincrement())
  address          String        @unique
  transactionsFrom Transaction[] @relation("from_address")
  transactionsTo   Transaction[] @relation("to_address")
}

model Transaction {
  id          Int      @id @default(autoincrement())
  fromId      Int
  toId        Int
  value       Float
  timestamp   DateTime
  fromAddress Address  @relation("from_address", fields: [fromId], references: [id])
  toAddress   Address  @relation("to_address", fields: [toId], references: [id])
  chain       String
}

model ScamReport {
  id           String   @id @default(cuid())
  address      String
  network      String
  reportCount  Int
  lastReported DateTime
  username     String? // Optional
  phoneNumber  String? // Optional
  email        String? // Optional
  createdAt    DateTime @default(now())
}
